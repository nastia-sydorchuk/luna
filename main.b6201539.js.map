{"version":3,"sources":["scripts/main.js"],"names":["features","document","querySelectorAll","prev","querySelector","next","counter","position","move","currentPosition","classList","remove","length","add","textContent","isInView","elem","elemTop","getBoundingClientRect","top","elemBottom","bottom","window","innerHeight","addEventListener","videoElem","videoWasStarted","nav","cross","menu","style","transform","history","pushState","location","origin","play","pause","emailInput","messageInput","successMessage","form","inputs","formIsValid","isValidating","isEmailValid","email","regex","test","toLowerCase","resetInput","element","previousElementSibling","invalidateInput","validateInputs","forEach","value","clearForm","event","preventDefault","input"],"mappings":"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","file":"main.b6201539.js","sourceRoot":"../src","sourcesContent":["'use strict';\n\n// Slider\nconst features = [...document.querySelectorAll('.feature')];\nconst prev = document.querySelector('.icon--backward');\nconst next = document.querySelector('.icon--forward');\nconst counter = document.querySelector('.feature-navigation__number--active');\n\nlet position = 0;\n\nconst move = (currentPosition) => {\n  features[position].classList.remove('features__feature--active');\n  position = currentPosition;\n\n  if (currentPosition > features.length - 1) {\n    position = 0;\n  } else if (currentPosition < 0) {\n    position = features.length - 1;\n  }\n\n  features[position].classList.add('features__feature--active');\n  counter.textContent = `0${position + 1}`;\n};\n\nprev.addEventListener('click', () => move(position - 1));\nnext.addEventListener('click', () => move(position + 1));\n\n// Listening to Scroll\nfunction isInView(elem) {\n  const elemTop = elem.getBoundingClientRect().top;\n  const elemBottom = elem.getBoundingClientRect().bottom;\n\n  return elemTop >= 0 && elemBottom <= window.innerHeight;\n}\n\nconst videoElem = document.querySelector('.presentation__video');\nlet videoWasStarted = false;\nconst nav = document.querySelector('nav');\nconst cross = document.querySelector('.icon--cross');\nconst menu = document.querySelector('.icon--menu');\n\nwindow.addEventListener('scroll', () => {\n  const navTop = nav.getBoundingClientRect().top;\n\n  if (navTop < 0) {\n    nav.style.transform = 'translateY(-100%)';\n    window.history.pushState({}, 'Home', document.location.origin);\n  }\n\n  if (isInView(videoElem) && !videoWasStarted) {\n    videoWasStarted = true;\n    videoElem.play();\n  } else if (!isInView(videoElem)) {\n    videoElem.pause();\n  }\n});\n\nmenu.addEventListener('click', () => {\n  nav.style.transform = 'translateY(0)';\n});\n\ncross.addEventListener('click', () => {\n  nav.style.transform = 'translateY(-100%)';\n});\n\n// Form validation\n\nconst emailInput = document.querySelector('.form__field--email');\nconst messageInput = document.querySelector('.form__field--textarea');\nconst successMessage = document.querySelector('.form__message--success');\nconst form = document.querySelector('form');\n\nconst inputs = [emailInput, messageInput];\nlet formIsValid = false;\nlet isValidating = false;\n\nconst isEmailValid = (email) => {\n  // eslint-disable-next-line\n  const regex = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n  return regex.test(email.toLowerCase());\n};\n\nconst resetInput = (element) => {\n  element.previousElementSibling.classList.add('form__message--hidden');\n  element.classList.remove('form__field--invalid');\n};\n\nconst invalidateInput = (element) => {\n  element.previousElementSibling.classList.remove('form__message--hidden');\n  element.classList.add('form__field--invalid');\n};\n\nconst validateInputs = () => {\n  if (!isValidating) {\n    return;\n  }\n\n  inputs.forEach(resetInput);\n  formIsValid = true;\n\n  if (!messageInput.value) {\n    invalidateInput(messageInput);\n    formIsValid = false;\n  }\n\n  if (!isEmailValid(emailInput.value)) {\n    invalidateInput(emailInput);\n    formIsValid = false;\n  }\n};\n\nconst clearForm = () => {\n  emailInput.value = '';\n  messageInput.value = '';\n};\n\nform.addEventListener('submit', (event) => {\n  event.preventDefault();\n  isValidating = true;\n  validateInputs();\n\n  if (formIsValid) {\n    clearForm();\n    successMessage.classList.remove('form__message--hidden');\n  }\n});\n\ninputs.forEach((input) => {\n  input.addEventListener('input', () => {\n    resetInput(input);\n    successMessage.classList.add('form__message--hidden');\n  });\n});\n"]}